(()=>{var e={};e.id=626,e.ids=[626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},28959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>g,tree:()=>c}),s(18075),s(72903),s(82674),s(32029),s(76526),s(12523);var r=s(23191),i=s(88716),a=s(37922),o=s.n(a),n=s(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18075)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/login/page.tsx"]}]},{error:[()=>Promise.resolve().then(s.bind(s,72903)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/login/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,82674)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/login/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,76526)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/template.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/macos/Desktop/project/go_sang_initiative/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/macos/Desktop/project/go_sang_initiative/src/app/login/page.tsx"],p="/login/page",d={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82099:(e,t,s)=>{Promise.resolve().then(s.bind(s,12977))},29387:(e,t,s)=>{Promise.resolve().then(s.bind(s,3248))},35303:()=>{},12977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(10326);s(17577);let i=()=>(0,r.jsxs)("div",{children:[r.jsx("h1",{children:"An error occurred."}),r.jsx("p",{children:"Please try again later."})]})},3248:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(10326),i=s(17577),a=s(35047),o=s(44099),n=s(52880),l=s(75160),c=s(81231);let u=({session:e})=>{let t=(0,a.useRouter)(),[s,u]=(0,i.useState)(1),[p,d]=(0,i.useState)(""),[g,x]=(0,i.useState)(""),[m,h]=(0,i.useState)(""),[f,b]=(0,i.useState)(""),[v,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e?.isAuth&&(0,a.redirect)("/profile")},[]);let _=async()=>{if(1===s){let e=(0,n.O)("phone",p);if(e){b(e);return}b("");try{let e=await l.e.post("/user_profile/user_exist/",{user_id:p});e.data.user_exist?(console.log(e.data),u(2)):b("This mobile number does not exist.")}catch(e){console.log(e),w(e)}}else if(2===s&&""!==g&&""===m)try{let e=await l.e.post("/user_profile/login/",{user_id:p,password:g});200===e.status?(console.log(e.data),await (0,c.R3)(e.data.token,p),t.push("/profile")):b("Login failed. Check your credentials.")}catch(e){b("Failed to login.")}},j=async()=>{let e=`+91${p.replace(/\D/g,"")}`;try{let t=await o.Z.get("https://getotp-co-send-otps-via-whatsapp-globally-for-free.p.rapidapi.com/api",{params:{key:"712bffad4amsh4602e17e5ea28cdp18ccfdjsnd18774d6b93d",otp:m,to:e},headers:{"x-rapidapi-host":"getotp-co-send-otps-via-whatsapp-globally-for-free.p.rapidapi.com","x-rapidapi-key":"712bffad4amsh4602e17e5ea28cdp18ccfdjsnd18774d6b93d"}});200===t.status?(y(!0),u(3)):b("Failed to send OTP via WhatsApp.")}catch(e){b("Error sending OTP. Please try again later.")}},w=e=>{e.response?404===e.response.status?b("This mobile number does not exist."):b(`'Server responded with error': ${e.response.status}`):e.request?b("No response from the server. Please try again later."):b("Network error. Please check your connection.")};return r.jsx("div",{className:"flex justify-center items-center h-screen bg-cyan-400",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md m-4",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),1===s&&(0,r.jsxs)("div",{children:[r.jsx("input",{type:"text",placeholder:"Email or Mobile Number",value:p,onChange:e=>d(e.target.value),className:"bg-gray-100 text-gray-600 w-full p-2 rounded-full outline-none mb-4"}),f&&r.jsx("p",{className:"text-red-500 text-center mb-4",children:f}),r.jsx("button",{onClick:_,className:"bg-blue-500 text-white w-full p-2 rounded-full",children:"Next"})]}),2===s&&(0,r.jsxs)("div",{children:[r.jsx("input",{type:"password",placeholder:"Password",value:g,onChange:e=>x(e.target.value),className:"bg-gray-100 text-gray-600 w-full p-2 rounded-full outline-none mb-4"}),r.jsx("button",{onClick:_,className:"bg-blue-500 text-white w-full p-2 rounded-full active:bg-secondary",children:"Login"}),r.jsx("p",{onClick:j,className:"text-blue-500 text-sm mt-4 cursor-pointer text-center",children:"Login with OTP"})]}),3===s&&(0,r.jsxs)("div",{children:[r.jsx("div",{className:"flex justify-between mb-4",children:[1,2,3,4].map(e=>r.jsx("input",{type:"text",maxLength:1,className:"bg-gray-100 text-gray-600 w-12 p-2 text-center rounded-full outline-none",value:m[e-1]||"",onChange:t=>{let s=m.split("");s[e-1]=t.target.value,h(s.join(""))}},e))}),f&&r.jsx("p",{className:"text-red-500 text-center mb-4",children:f}),r.jsx("button",{onClick:()=>{4===m.length?t.push("/profile"):b("Invalid OTP. Please try again.")},className:"bg-blue-500 text-white w-full p-2 rounded-full",children:"Verify OTP"})]})]})})}},75160:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});let r=s(44099).Z.create({baseURL:"https://gosang-d9esgjhxbsa0cwav.southindia-01.azurewebsites.net/api",timeout:1e3,headers:{"X-Custom-Header":"Gosang",Authorization:""}})},52880:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});let r=(e,t)=>{let s="";if(t)switch(e){case"email":/\S+@\S+\.\S+/.test(t)||(s="Email is invalid");break;case"first_name":case"last_name":""===t&&(s="Name is required");break;case"DOB":""===t&&(s="DOB is required");break;case"contact_number":""===t.trim()?s="Phone number is required":/^[6-9]\d{9}$/.test(t)||(s="Phone number must be a 10-digit & starting with 6, 7, 8,9")}else s="This field is required";return s}},72903:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>n});var r=s(68570);let i=(0,r.createProxy)(String.raw`/Users/macos/Desktop/project/go_sang_initiative/src/app/login/error.tsx`),{__esModule:a,$$typeof:o}=i;i.default;let n=(0,r.createProxy)(String.raw`/Users/macos/Desktop/project/go_sang_initiative/src/app/login/error.tsx#default`)},82674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(19510);function i(){return(0,r.jsxs)("div",{className:"flex justify-center items-center",children:[r.jsx("p",{className:"text-lg text-white font-serif",children:"Loading..."}),r.jsx("p",{className:"text-sm text-white font-serif",children:"Please wait while we are processing your request"})]})}},18075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(19510),i=s(68570);let a=(0,i.createProxy)(String.raw`/Users/macos/Desktop/project/go_sang_initiative/src/components/login/Login.tsx`),{__esModule:o,$$typeof:n}=a;a.default;let l=(0,i.createProxy)(String.raw`/Users/macos/Desktop/project/go_sang_initiative/src/components/login/Login.tsx#default`);var c=s(67379);async function u(){let e=await (0,c.J)();return r.jsx(r.Fragment,{children:r.jsx(l,{session:e})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,692,99,67],()=>s(28959));module.exports=r})();